<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="generator" content="hevea 2.06">
<style type="text/css">
.li-itemize{margin:1ex 0ex;}
.li-enumerate{margin:1ex 0ex;}
.dd-description{margin:0ex 0ex 1ex 4ex;}
.dt-description{margin:0ex;}
.toc{list-style:none;}
.footnotetext{margin:0ex; padding:0ex;}
div.footnotetext P{margin:0px; text-indent:1em;}
.thefootnotes{text-align:left;margin:0ex;}
.dt-thefootnotes{margin:0em;}
.dd-thefootnotes{margin:0em 0em 0em 2em;}
.footnoterule{margin:1em auto 1em 0px;width:50%;}
.caption{padding-left:2ex; padding-right:2ex; margin-left:auto; margin-right:auto}
.title{margin:2ex auto;text-align:center}
.titlemain{margin:1ex 2ex 2ex 1ex;}
.titlerest{margin:0ex 2ex;}
.center{text-align:center;margin-left:auto;margin-right:auto;}
.flushleft{text-align:left;margin-left:0ex;margin-right:auto;}
.flushright{text-align:right;margin-left:auto;margin-right:0ex;}
div table{margin-left:inherit;margin-right:inherit;margin-bottom:2px;margin-top:2px}
td table{margin:auto;}
table{border-collapse:collapse;}
td{padding:0;}
.cellpadding0 tr td{padding:0;}
.cellpadding1 tr td{padding:1px;}
pre{text-align:left;margin-left:0ex;margin-right:auto;}
blockquote{margin-left:4ex;margin-right:4ex;text-align:left;}
td p{margin:0px;}
.boxed{border:1px solid black}
.textboxed{border:1px solid black}
.vbar{border:none;width:2px;background-color:black;}
.hbar{border:none;height:2px;width:100%;background-color:black;}
.hfill{border:none;height:1px;width:200%;background-color:black;}
.vdisplay{border-collapse:separate;border-spacing:2px;width:auto; empty-cells:show; border:2px solid red;}
.vdcell{white-space:nowrap;padding:0px; border:2px solid green;}
.display{border-collapse:separate;border-spacing:2px;width:auto; border:none;}
.dcell{white-space:nowrap;padding:0px; border:none;}
.dcenter{margin:0ex auto;}
.vdcenter{border:solid #FF8000 2px; margin:0ex auto;}
.minipage{text-align:left; margin-left:0em; margin-right:auto;}
.marginpar{border:solid thin black; width:20%; text-align:left;}
.marginparleft{float:left; margin-left:0ex; margin-right:1ex;}
.marginparright{float:right; margin-left:1ex; margin-right:0ex;}
.theorem{text-align:left;margin:1ex auto 1ex 0ex;}
.part{margin:2ex auto;text-align:center}
</style>
<title>CARPTutorial</title>
</head>
<body >
<!--HEVEA command line is: hevea -o CARPTutorial.html CARPTutorial.latex -->
<!--CUT STYLE article--><!--CUT DEF section 1 --><table class="title"><tr><td style="padding:1ex"><h1 class="titlemain">Carp Tutorial</h1><h3 class="titlerest">Dylan Cochran</h3></td></tr>
</table>
<!--TOC section id="sec1" Introduction-->
<h2 id="sec1" class="section">1&#XA0;&#XA0;Introduction</h2><!--SEC END --><p>
Let.s paint a picture, shall we? Suppose you have a company where their entire business flow relies on having 
internet access 24/7 (or, close to it). Let.s say this company has invested in a .cloud accounting. package to do all 
of their work orders, purchase orders, invoices, and payroll. No computer in the entire company has a copy of this 
data, it is all stored in some Itanium servers in a datacenter somewhere. The company is already paying for a DSL 
line in addition to their high speed cable internet, and you want some way to ensure that when the high speed cable 
line goes down, they can still have access to the lifeblood of their business via the low speed DSL line. The 
solution? <span style="font-weight:bold">CARP</span>.</p>
<!--TOC section id="sec2" Definition-->
<h2 id="sec2" class="section">2&#XA0;&#XA0;Definition</h2><!--SEC END --><p>
<span style="font-weight:bold">CARP</span> stands for Common Address Redundancy Protocol . Carp is basically a way of providing failover on one ip address, between multiple 
hosts. When the primary carp interface for that ip address goes down, for whatever reason, the second carp interface 
will take over for that ip address, allowing direct failover. Depending upon how your system is set up, this can be 
either seamless. Note that each computer using carp will also need it&#X2019;s own ip address, in addition to the one used 
by CARP.</p>
<!--TOC section id="sec3" Setup-->
<h2 id="sec3" class="section">3&#XA0;&#XA0;Setup</h2><!--SEC END --><p>
For the following tutorial we assume you have a router set up the same way as in the <span style="font-weight:bold">The ultimate OpenBSD router</span> tutorial. 
There are some differences you&#X2019;ll need to be aware of:
</p><p> <br>
 Ensure that you change the range of the dhcpd server to exclude more then a single ip address as configured in the 
tutorial. A good idea is to start the range at 100, like so:
<br>
option domain-name-servers 192.168.1.1, 208.67.222.220;
<br>
subnet 192.168.1.0 netmask 255.255.255.0 {
<br>
option routers 192.168.1.1;
<br>
range 192.168.1.100 192.168.1.254;
<br>
host meimei {
<br>
fixed-address 192.168.1.2;
<br>
hardware ethernet 00:00:00:00:00:00;
<br>
}
<br>
host suigintou {
<br>
fixed-address 192.168.1.3;
<br>
hardware ethernet 11:11:11:11:11:11;
<br>
}
<br>
}</p>
<!--TOC section id="sec4" Getting Started-->
<h2 id="sec4" class="section">4&#XA0;&#XA0;Getting Started</h2><!--SEC END --><p>
Write your conclusion here.</p><!--CUT END -->
<!--HTMLFOOT-->
<!--ENDHTML-->
<!--FOOTER-->
<hr style="height:2"><blockquote class="quote"><em>This document was translated from L<sup>A</sup>T<sub>E</sub>X by
</em><a href="http://hevea.inria.fr/index.html"><em>H</em><em><span style="font-size:small"><sup>E</sup></span></em><em>V</em><em><span style="font-size:small"><sup>E</sup></span></em><em>A</em></a><em>.</em></blockquote></body>
</html>
